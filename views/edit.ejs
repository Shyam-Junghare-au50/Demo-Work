<!-- home.ejs -->

<%- include("partials/header"); -%>
  <% if (posts.length === 0) { %>
    <p>No posts found.</p>
  <% } else { %>
    <% posts.forEach(function(post) { %>
      <div>
        <h2><%= post.title %></h2>
        <p>
            <%=post.content.substring(0, 100) + " ..."%>
            <a href="/posts/<%=post._id%>">Read More</a>
        </p>
        <!-- <p><%= post.content %></p> -->
        <form method="POST" action="/edit/<%= post._id %>">    
    <label for="title">Title:</label>
    <input class="form-control" type="text" id="title" name="title" value="<%= post.title %>">
    <br>
    <label for="content">Content:</label>
    <textarea class="form-control" id="content" name="content"><%= post.content %></textarea>
    <br>
    <button class="btn btn-primary" type="submit">Update</button>
  </form>
        </form>
      </div>
      <hr>
    <% }) %>
  <% } %>


  <%- include("partials/footer"); -%>
